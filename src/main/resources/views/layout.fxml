<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>
<?import org.kordamp.ikonli.javafx.*?>

<BorderPane fx:id="rootPane" xmlns="http://javafx.com/javafx/17.0.12"
  xmlns:fx="http://javafx.com/fxml/1"
  fx:controller="com.app.librarymanager.controllers.LayoutController">
  <left>
    <ToolBar fx:id="adminToolBar" nodeOrientation="LEFT_TO_RIGHT" orientation="VERTICAL"
      styleClass="toolbar" BorderPane.alignment="TOP_LEFT">
      <!--      <HBox alignment="CENTER">-->
      <!--        <padding>-->
      <!--          <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>-->
      <!--        </padding>-->
      <!--        <ImageView fitHeight="40" preserveRatio="true">-->
      <!--          <Image url="@../images/logo-dark.png"/>-->
      <!--        </ImageView>-->
      <!--      </HBox>-->
      <!--      <Separator styleClass="h-separator"/>-->
      <Button fx:id="btnDashboard" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleShowDashboard"
        styleClass="btn, btn-toolbar, active">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ " styleClass="toolbar-icon"/>
            <Text text="Dashboard"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnManageBooks" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageBooks"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ“š" styleClass="toolbar-icon"/>
            <Text text="Books"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnManageLoans" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageBookLoans"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ”" styleClass="toolbar-icon"/>
            <Text text="Loans"/>
          </HBox>
        </graphic>
      </Button>
      <!-- Loan Records removed per request -->
      <Button fx:id="btnManageReturns" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageReturns"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <!-- Use a simple arrow glyph instead of emoji to avoid missing glyph rendering on some systems -->
            <Text text="â†©" styleClass="toolbar-icon"/>
            <Text text="Returns"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnManageRequests" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageLoanRequests"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ“„" styleClass="toolbar-icon"/>
            <Text text="Requests"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnManageUsers" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageUsers"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ‘¥" styleClass="toolbar-icon"/>
            <Text text="Users"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnManageCategories" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageCategories"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ¢" styleClass="toolbar-icon"/>
            <Text text="Categories"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnManageCards" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleManageCards"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ†”" styleClass="toolbar-icon"/>
            <Text text="Cards"/>
          </HBox>
        </graphic>
      </Button>
      <Button fx:id="btnRolePermissions" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleRolePermissions"
        styleClass="btn, btn-toolbar">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ”" styleClass="toolbar-icon"/>
            <Text text="Role Permissions"/>
          </HBox>
        </graphic>
      </Button>
      <Separator styleClass="h-separator"/>
      <Button fx:id="logoutBtn" maxWidth="Infinity" mnemonicParsing="false" onAction="#onLogoutButtonClick"
        styleClass="btn, btn-toolbar, danger">
        <graphic>
          <HBox alignment="CENTER_LEFT" spacing="8" HBox.hgrow="ALWAYS">
            <Text text="ðŸ”“" styleClass="toolbar-icon"/>
            <Text text="Logout"/>
          </HBox>
        </graphic>
      </Button>
    </ToolBar>
  </left>
  <top>
    <ToolBar fx:id="navBar" prefHeight="40" styleClass="nav-bar" BorderPane.alignment="CENTER">
      <ImageView fx:id="navLogo" fitHeight="32.0" nodeOrientation="INHERIT" pickOnBounds="true"
        preserveRatio="true" styleClass="nav-logo">
        <Image url="@../images/logo-dark.png"/>
      </ImageView>
      <Region HBox.hgrow="ALWAYS" minWidth="50"/>
      <TextField fx:id="searchField" promptText="Search book..." styleClass="input" prefWidth="250"
        maxWidth="300"/>
      <Region HBox.hgrow="ALWAYS" prefWidth="10" maxWidth="30"/>
      <Button fx:id="homeNavBtn" mnemonicParsing="false" styleClass="btn, btn-nav" text="Home"/>
      <Button fx:id="allBooksNavBtn" mnemonicParsing="false" styleClass="btn, btn-nav"
        text="All Books"/>
      <Button fx:id="categoriesNavBtn" mnemonicParsing="false" styleClass="btn, btn-nav"
        text="Categories"/>
      <Button fx:id="loansNavBtn" mnemonicParsing="false" styleClass="btn, btn-nav"
        text="My Loans"/>
      <Button fx:id="favoritesNavBtn" mnemonicParsing="false" styleClass="btn, btn-nav"
        text="My Favorites"/>
      <Button fx:id="cardNavBtn" mnemonicParsing="false" styleClass="btn, btn-nav"
        text="My Card"/>
      <Region HBox.hgrow="ALWAYS" prefWidth="10" maxWidth="10"/>
      <ImageView fx:id="avatarImageView" fitHeight="32.0" onMouseClicked="#handleImageClick"
        pickOnBounds="true" preserveRatio="true">
        <Image url="@../images/user.png"/>
        <clip>
          <Circle centerX="16.0" centerY="16.0" radius="16.0"/>
        </clip>
      </ImageView>
    </ToolBar>
  </top>
  <center>
    <StackPane fx:id="contentPane"/>
  </center>
  <bottom>
    <!--    <Label alignment="CENTER" styleClass="footer-label" text="Library Manager Â© 2024"/>-->
  </bottom>
</BorderPane>
